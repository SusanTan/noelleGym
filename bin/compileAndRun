#!/bin/bash -e

prefixString="### NOELLE Gym ###" ;
echo "${prefixString} All benchmarks from all benchmark suites will be compiled, run, and statistics will be collected" ;
echo "${prefixString} Results will be stored in `pwd`/results/current_machine" ;
echo "${prefixString} The output of each step will be stored in `pwd`/output.txt" ;
echo "${prefixString}     (you can run \"tail -f output.txt\" to see the current state at finer granularity)" ;
echo "" ;

# Compile the system and the benchmarks
./bin/compile ;

# Compute statistics
./bin/statistics ;

# Run the binaries
./bin/run ;

# Clean
echo "${prefixString} Clean" ;
./scripts/clean.sh >> output.txt 2>&1 ;
